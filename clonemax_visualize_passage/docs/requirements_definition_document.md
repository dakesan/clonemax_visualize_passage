# 要件定義書: 96ウェルプレートビジュアライゼーションアプリ

## 1. アプリケーション概要

このアプリケーションは、Excelファイルから96ウェルプレートのデータを読み取り、リッチなUIでビジュアライズするWebアプリケーションです。ユーザーはExcelファイルをアップロードし、データの表示方法をカスタマイズするための閾値や設定を入力することができます。

## 2. 主要機能

### 2.1 ファイル入力機能
- Excelファイル（.xlsx, .xls）のアップロード機能
- ファイルのドラッグ&ドロップ対応
- 入力ファイルの形式チェック機能
- ファイル読み込み状態の表示（プログレスバーなど）

### 2.2 パラメータ設定機能
- データの閾値設定（上限・下限）
- カラーマッピングの設定
  - 値に応じた色の範囲設定
  - カスタムカラーパレット選択
- データの表示方法の切り替え（ヒートマップ、数値表示など）
- 選択した設定の保存・読み込み機能

### 2.3 96ウェルプレートビジュアライゼーション機能
- インタラクティブな96ウェルプレートの表示
- ウェルごとの値の視覚化（色、数値など）
- ウェルにマウスホバー時の詳細情報表示
- ウェル選択機能（単一、複数選択）
- 選択したウェルのデータ集計表示
- ズームイン/アウト機能
- 表示データの絞り込み・フィルタリング機能

### 2.4 データ出力機能
- 視覚化結果の画像出力（PNG, JPG, SVG）
- レポートの生成と出力（PDF）
- 処理済みデータのダウンロード（CSV, Excel）

## 3. ユーザーインターフェース要件

### 3.1 レイアウト
- レスポンシブデザイン
- 左側にコントロールパネル（ファイルアップロード、設定）
- 中央・右側に96ウェルプレート表示エリア
- 下部にデータサマリー・統計情報表示エリア

### 3.2 操作性
- インタラクティブなUI
- ドラッグ&ドロップ対応
- リアルタイムのデータ更新
- 直感的な操作体験

## 4. 入力データ仕様

### 4.1 サポートするExcelフォーマット
- 12列×8行の標準96ウェルプレートフォーマット
- カスタムフォーマット（カラム名のマッピング機能）
- 複数シート対応（複数のプレートデータ）

### 4.2 データ形式
- 数値データ
- カテゴリカルデータ（オプション）
- メタデータ（サンプルID、実験条件など）

## 5. 非機能要件

### 5.1 パフォーマンス
- 大きなExcelファイル（10MB以上）の処理対応
- 表示の高速化（データ量が多い場合でも）
- 操作の応答性確保

### 5.2 対応ブラウザ
- Chrome最新版
- Firefox最新版
- Safari最新版
- Edge最新版

### 5.3 セキュリティ
- アップロードされたデータのローカル処理（サーバーへの送信なし）
- 機密実験データの保護

### 5.4 拡張性
- 将来的な384ウェルプレート対応の考慮
- カスタムビジュアライゼーション追加のための拡張性

## 6. 技術スタック

### 6.1 フロントエンド
- フレームワーク: React
- スタイリング: Tailwind CSS
- UIコンポーネント: （必要に応じて検討）
- グラフ描画: D3.js または Chart.js
- Excelファイル処理: SheetJS (js-xlsx)

### 6.2 ビルド/デプロイ
- Vite
- 静的サイトホスティング (GitHub Pages, Netlify, Vercel)

## 7. 開発フェーズ

### 7.1 フェーズ1: 基本機能実装
- ファイルアップロード機能
- 基本的な96ウェルプレート表示
- 簡易的な設定機能

### 7.2 フェーズ2: 高度な機能
- インタラクティブ機能の強化
- カスタマイズ設定の拡充
- データ出力機能

### 7.3 フェーズ3: UX改善と最適化
- パフォーマンス最適化
- UIの磨き込み
- ユーザーテストとフィードバック反映

## 8. 将来的な拡張機能案
- 時系列データの表示（複数時点のプレートデータ比較）
- 統計分析機能の追加
- APIを通じた外部システムとの連携
- ユーザーアカウント機能（設定保存など）

## 9. UI/UXイメージ

```
+-----------------------------------------------+
|                   ヘッダー                    |
+-----------------------------------------------+
| ファイル入力  |                               |
| - アップロード|                               |
| - 設定       |                               |
|             |                               |
| パラメータ設定|          96ウェルプレート       |
| - 閾値      |         ビジュアライゼーション   |
| - 色設定    |           エリア               |
| - 表示設定   |                               |
|             |                               |
+-------------+-------------------------------+
|           データサマリー/統計情報              |
+-----------------------------------------------+
```

この要件定義書は開発の指針として使用され、実際の開発過程でユーザーニーズに応じて調整される可能性があります。